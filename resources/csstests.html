<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/ico" href="../content/images/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <script type="text/javascript" src="../code/common.js"></script>
    <title>CSS tests</title>
</head>

<body>
    <!-- HEADER -->
    <div class="boundary">
        <div class="pagination-link"><a href="../index.html">Bea<span class="hide-medium">triz</span><span class="hide-small">&nbsp;</span>Cab<span class="hide-small">rero&nbsp;</span>Dan<span class="hide-small">iel</span></a></div>
        <div id="about-me-dropdown" class="pagination-link go-right hide-medium">
            <a onclick="openDropdown()" href="#">About me</a>
            <div class="dropdown-hover">
                <div class="dropdown-content">
                    <a href="../cv/index.html">CV</a>
                    <a href="../projects/index.html">Books & more</a>
                    <a href="../projects/index.html">Clipboard</a>
                </div>
            </div>
        </div>
        <div class="pagination-link go-right hide-medium"><a href="../projects/index.html">Projects</a></div>
        <div class="pagination-link go-right hide-medium"><a href="../resources/index.html">Resources</a></div>
        <div class="pagination-link go-right show-medium"><a onclick="openNav()"><i class="material-icons no-print">menu</i></a></div>
    </div>

    <div class="menu-small">
        <a class="menu-small-button" onclick="closeNav()" href="#"><i class="material-icons no-print">close</i></a>
        <div class="menu-small-content">
            <a href="../index.html">Home</a>
            <a href="../resources/index.html">Resources</a>
            <a href="../projects/index.html">Projects</a>
            <a href="../index.html">About me</a>
            <a href="../cv/index.html">CV</a>
            <a href="../projects/index.html">Books & more</a>
            <a href="../projects/index.html">Clipboard</a>
        </div>
    </div>
    <!-- HEADER -->

    <div class="container">
        <h1>HTML and CSS tests</h1>
        <h2>Flexible rows</h2>
        <p>Useful to position elements side by side and automatically resize them when <code>width</code> changes. In this example, 5 columns become 3 and then 1 in smaller devices. Here's an example of this kind of container. Click the button to add another element to the palette. Resize the page to see how the elements adapt to the width of the page.</p>
        <button onclick="addColorToPalette()">Add another element to the grid</button>
        <button class="secondaryButton" onclick="removePalette()">Clear palette</button>
        <div class="flexRow" id="paletteContainer">
            <div class="fifth"><canvas style="display: block; width: 100%;" width="200" height="200"></canvas></div>
            <div class="fifth"><canvas style="display: block; width: 100%;" width="200" height="200"></canvas></div>
            <div class="fifth"><canvas style="display: block; width: 100%;" width="200" height="200"></canvas></div>
        </div>

        <p>To do this we can use a <code>flexRow</code> container with (for instance) five columns (that will become three and then 1 when the page is rescaled):</p>
        <pre><code>&lt;div class="flexRow" id="paletteContainer"><br>&#9;&lt;div class="fifth">&lt;/div><br>&#9;&lt;div class="fifth">&lt;/div><br>&#9;&lt;div class="fifth">&lt;/div><br>&lt;/div></code></pre>
        <p>Note that the <code>margin</code> of the parent is overriden to avoid the overflow and <code>margin-top</code> of the children elemets is set to 0 as well. The following CSS is used for this:</p>
        <pre><code>.flexRow {<br>&#9;display: flex;<br>&#9;flex-wrap: wrap;<br>&#9;justify-content: space-between; <br>&#9;box-sizing: border-box;<br>}<br><br>.flexRow:after {<br>&#9;content: "";<br>&#9;flex: auto;<br>}<br><br>.fifth {<br>&#9;width: 20%;<br>}</code></pre>

        <p>As you can probably imagine, I created very similar code for <code>.quarter</code> and <code>.third</code> so I can have different levels. And then, for the resizing purposes (adding some margin between the sibling elements):</p>
        <pre><code>@media only screen and (max-width: 800px) {<br>&#9;.fifth {<br>&#9;&#9;width: calc(100%/3);<br>&#9;}<br>}<br><br>@media only screen and (max-width: 600px) {<br>&#9;.fifth {<br>&#9;&#9;width: 100%;<br>&#9;&#9;padding: 0;<br>&#9;}<br><br>&#9;.flexRow > * {<br>&#9;&#9;margin-top: var(--default-padding);&#9;&#9;<br>&#9;}<br>}</code></pre>
                    
        <h2>Adaptive columns with margin</h2>
        <p>Example with two columns. As you can see, it's the elements that are resized but the margin between them stays the same (not the same as using <code>space-between</code> in a <code>flex</code> container):</p>
        <div class="flexRow flexRowMargins">
            <div class="half"><div style="padding: var(--default-padding); background-color: var(--surface);">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Pariatur quam accusamus eos, unde alias perferendis sunt delectus magni, eligendi, facere omnis atque ad? Qui, aperiam temporibus culpa repellendus omnis commodi!</div></div>
            <div class="half"><div style="padding: var(--default-padding); background-color: var(--surface);">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Vitae earum, pariatur exercitationem officia deleniti in eligendi ipsum vel doloribus ducimus dicta temporibus voluptates incidunt assumenda, hic aspernatur explicabo ipsa aperiam.</div></div>
        </div>

        <p>HTML to create two columns (becomes 1 in smaller screens) with a separation equal to <code>var(--default-padding)</code>:</p>
        <pre><code>&lt;div class="flexRow flexRowMargins"><br>&#9;&lt;div class="half">&lt;div>1&lt;/div>&lt;/div><br>&#9;&lt;div class="half">&lt;div>2&lt;/div>&lt;/div><br>&lt;/div></code></pre>
        <p>The CSS for this is:</p>
        <pre><code>.flexRowMargins {<br>&#9;margin: calc(var(--default-padding) * -1) calc(var(--default-padding) * -0.5) 0 calc(var(--default-padding) * -0.5);<br>}<br><br>.flexRowMargins > * {<br>&#9;margin-top: var(--default-padding);<br>&#9;padding: 0 calc(var(--default-padding)*0.5);<br>&#9;box-sizing: border-box;<br>}<br><br>.half {<br>&#9;width: 50%;<br>}</code></pre>
        <p>More columns in each row are also possible, here's an example using <code>third</code>:</p>

        <div class="flexRow flexRowMargins">
            <div class="third"><div style="padding: var(--default-padding); background-color: var(--surface);">1</div></div>
            <div class="third"><div style="padding: var(--default-padding); background-color: var(--surface);">2</div></div>
            <div class="third"><div style="padding: var(--default-padding); background-color: var(--surface);">3</div></div>
        </div>

        <p>And another example using <code>fifth</code> with margin (the colour palette example has no separation between elements):</p>

        <div class="flexRow flexRowMargins">
            <div class="fifth"><div style="padding: var(--default-padding); background-color: var(--surface);">1</div></div>
            <div class="fifth"><div style="padding: var(--default-padding); background-color: var(--surface);">2</div></div>
            <div class="fifth"><div style="padding: var(--default-padding); background-color: var(--surface);">3</div></div>
            <div class="fifth"><div style="padding: var(--default-padding); background-color: var(--surface);">4</div></div>
            <div class="fifth"><div style="padding: var(--default-padding); background-color: var(--surface);">5</div></div>
        </div>
        <p>Comparison to a simple flex with <code>space-between</code> justified contents:</p>
        <div style="display:flex; justify-content: space-between;">
            <div style="width: calc(20% - var(--default-padding)); box-sizing: border-box; padding: var(--default-padding); background-color: var(--surface);">1</div>
            <div style="width: calc(20% - var(--default-padding)); box-sizing: border-box; padding: var(--default-padding); background-color: var(--surface);">2</div>
            <div style="width: calc(20% - var(--default-padding)); box-sizing: border-box; padding: var(--default-padding); background-color: var(--surface);">3</div>
            <div style="width: calc(20% - var(--default-padding)); box-sizing: border-box; padding: var(--default-padding); background-color: var(--surface);">4</div>
            <div style="width: calc(20% - var(--default-padding)); box-sizing: border-box; padding: var(--default-padding); background-color: var(--surface);">5</div>
        </div>

        <p>Finally, to make it adapt to smaller screens (adding some margin between the sibling elements):</p>
        <pre><code>@media only screen and (max-width: 600px) {<br>&#9;.flexRow > * {<br>&#9;&#9;display: block;<br>&#9;&#9;margin: 0;<br>&#9;}<br><br>&#9;.flexRowMargins {<br>&#9;&#9;margin: calc(var(--default-padding)*-1) 0 0 0;<br>&#9;}<br>}</code></pre>
        <p>Disclaimer: I have no idea if this is the best way to do it. I just wanted to play around with CSS and do it myself, instead of using someone else's stylesheet.</p>
    </div>

    <script>
        function fillCanvas(cnv) {
            var ctx = cnv.getContext("2d");
            var color = getRandomColor();
            ctx.fillStyle = color;
            ctx.fillRect(0, 0, cnv.width, cnv.height);
            
            ctx.fillStyle = "#FFF";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.font = "20px sans-serif";
            ctx.fillText(color.toUpperCase(), 100, 100);
        }

        function initTest1Canvas() {
            var canvases = document.getElementsByTagName("canvas");
            for (var i = 0; i < canvases.length; i++) {
                var cnv = canvases[i];
                fillCanvas(cnv);
            }
        }

        function addColorToPalette() {
            var palette = document.getElementById("paletteContainer");
            palette.insertAdjacentHTML('beforeend', '<div class="fifth"><canvas style="display: block; width: 100%;" width="200" height="200"></canvas></div>');

            var canvases = document.getElementsByTagName("canvas");
            fillCanvas(canvases[canvases.length-1]);
        }

        function removePalette() {
            var palette = document.getElementById("paletteContainer");
            palette.innerHTML = "";
        }

        initTest1Canvas();
    </script>
</body>

</html>